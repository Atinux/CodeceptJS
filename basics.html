<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Basics · CodeceptJS</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;CodeceptJS is a modern end to end testing framework with a special BDD-style syntax. The tests are written as a linear scenario of the user&#x27;s action on a site.&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Basics · CodeceptJS"/><meta property="og:type" content="website"/><meta property="og:url" content="https://codecept.io/index.html"/><meta property="og:description" content="&lt;p&gt;CodeceptJS is a modern end to end testing framework with a special BDD-style syntax. The tests are written as a linear scenario of the user&#x27;s action on a site.&lt;/p&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-30075781-3"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-30075781-3');
            </script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg" alt="CodeceptJS"/><h2 class="headerTitleWithLogo">CodeceptJS</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/quickstart" target="_self">Quickstart</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/basics" target="_self">Guides</a></li><li class=""><a href="/reference" target="_self">API</a></li><li class=""><a href="/changelog" target="_self">Releases</a></li><li class=""><a href="/help" target="_self">Support</a></li><li class=""><a href="https://github.com/Codeception/CodeceptJS" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Web Testing</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Web Testing</h3><ul><li class="navListItem navListItemActive"><a class="navItem" href="/basics">Basics</a></li><li class="navListItem"><a class="navItem" href="/webdriver">Testing with WebDriver</a></li><li class="navListItem"><a class="navItem" href="/puppeteer">Testing with Puppeteer</a></li><li class="navListItem"><a class="navItem" href="/testcafe">Testing with TestCafe</a></li><li class="navListItem"><a class="navItem" href="/angular">Testing with Protractor</a></li><li class="navListItem"><a class="navItem" href="/nightmare">Testing with Nightmare</a></li><li class="navListItem"><a class="navItem" href="/visual">Visual Testing</a></li><li class="navListItem"><a class="navItem" href="/email">Email Testing</a></li><li class="navListItem"><a class="navItem" href="/react">Testing React Applications</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Mobile Testing</h3><ul><li class="navListItem"><a class="navItem" href="/mobile">Mobile Testing with Appium</a></li><li class="navListItem"><a class="navItem" href="/detox">Testing React Native with Detox</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Organizing Tests</h3><ul><li class="navListItem"><a class="navItem" href="/best">Best Practices</a></li><li class="navListItem"><a class="navItem" href="/locators">Locators</a></li><li class="navListItem"><a class="navItem" href="/pageobjects">Page Objects</a></li><li class="navListItem"><a class="navItem" href="/helpers">Custom Helpers</a></li><li class="navListItem"><a class="navItem" href="/bdd">Behavior Driven Development</a></li><li class="navListItem"><a class="navItem" href="/data">Data Management</a></li><li class="navListItem"><a class="navItem" href="/parallel">Parallel Execution</a></li><li class="navListItem"><a class="navItem" href="/reports">Reporters</a></li><li class="navListItem"><a class="navItem" href="/advanced">Advanced Usage</a></li><li class="navListItem"><a class="navItem" href="/hooks">Bootstrap / Teardown / Plugins</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tutorials</h3><ul><li class="navListItem"><a class="navItem" href="/books">Books &amp; Posts</a></li><li class="navListItem"><a class="navItem" href="/videos">Videos</a></li><li class="navListItem"><a class="navItem" href="/examples">Examples</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/Codeception/CodeceptJS/blob/master/docs/basics.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Basics</h1></header><article><div><span><p>CodeceptJS is a modern end to end testing framework with a special BDD-style syntax. The tests are written as a linear scenario of the user's action on a site.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Feature</span>(<span class="hljs-string">'CodeceptJS demo'</span>);

<span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'check Welcome page on site'</span>, (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Welcome'</span>);
});
</code></pre>
<p>Tests are expected to be written in <strong>ECMAScript 7</strong>.</p>
<p>Each test is described inside a <code>Scenario</code> function with the <code>I</code> object passed into it.
The <code>I</code> object is an <strong>actor</strong>, an abstraction for a testing user. The <code>I</code> is a proxy object for currently enabled <strong>Helpers</strong>.</p>
<h2><a class="anchor" aria-hidden="true" id="architecture"></a><a href="#architecture" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Architecture</h2>
<p>CodeceptJS bypasses execution commands to helpers. Depending on the helper enabled, your tests will be executed differently. If you need cross-browser support you should choose Selenium-based WebDriver or TestCafé. If you are interested in speed - you should use Chrome-based Puppeteer.</p>
<p>The following is a diagram of the CodeceptJS architecture:</p>
<p><img src="https://codecept.io/img/architecture.svg" alt="architecture"></p>
<p>All helpers share the same API, so it's easy to migrate tests from one backend to another.
However, because of the difference in backends and their limitations, they are not guaranteed to be compatible with each other. For instance, you can't set request headers in WebDriver or Protractor, but you can do so in Puppteer or Nightmare.</p>
<p><strong>Pick one helper, as it defines how tests are executed.</strong> If requirements change it's easy to migrate to another.</p>
<hr>
<p>Refer to following guides to more information on:</p>
<ul>
<li><a href="https://codecept.io/webdriver">▶ WebDriver</a></li>
<li><a href="https://codecept.io/angular">▶ Protractor</a></li>
<li><a href="https://codecept.io/puppeteer">▶ Puppeteer</a></li>
<li><a href="https://codecept.io/nightmare">▶ Nightmare</a></li>
<li><a href="https://codecept.io/testcafe">▶ TestCafe</a></li>
</ul>
<blockquote>
<p>ℹ Depending on a helper selected a list of available actions may change.</p>
</blockquote>
<p>To list all available commands for the current configuration run <code>codeceptjs list</code>
or enable <a href="#intellisense">auto-completion by generating TypeScript definitions</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="writing-tests"></a><a href="#writing-tests" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing Tests</h2>
<p>Tests are written from a user's perspective. There is an actor (represented as <code>I</code>) which contains actions taken from helpers. A test is written as a sequence of actions performed by an actor:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
<span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Login'</span>);
<span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Please Login'</span>, <span class="hljs-string">'h1'</span>);
<span class="hljs-comment">// ...</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="opening-a-page"></a><a href="#opening-a-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Opening a Page</h3>
<p>A test should usually start by navigating the browser to a website.</p>
<p>Start a test by opening a page. Use the <code>I.amOnPage()</code> command for this:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// When "http://site.com" is url in config</span>
<span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>); <span class="hljs-comment">// -&gt; opens http://site.com/</span>
<span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/about'</span>); <span class="hljs-comment">// -&gt; opens http://site.com/about</span>
<span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'https://google.com'</span>); <span class="hljs-comment">// -&gt; https://google.com</span>
</code></pre>
<p>When an URL doesn't start with a protocol (http:// or https://) it is considered to be a relative URL and will be appended to the URL which was initially set-up in the config.</p>
<blockquote>
<p>It is recommended to use a relative URL and keep the base URL in the config file, so you can easily switch between development, stage, and production environments.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="locating-element"></a><a href="#locating-element" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Locating Element</h3>
<p>Element can be found by CSS or XPath locators.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.seeElement(<span class="hljs-string">'.user'</span>); <span class="hljs-comment">// element with CSS class user</span>
<span class="hljs-built_in">I</span>.seeElement(<span class="hljs-string">'//button[contains(., "press me")]'</span>); <span class="hljs-comment">// button</span>
</code></pre>
<p>By default CodeceptJS tries to guess the locator type.
In order to specify the exact locator type you can pass an object called <strong>strict locator</strong>.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.seeElement({<span class="hljs-attr">css</span>: <span class="hljs-string">'div.user'</span>});
<span class="hljs-built_in">I</span>.seeElement({<span class="hljs-attr">xpath</span>: <span class="hljs-string">'//div[@class=user]'</span>});
</code></pre>
<p>Strict locators allow to specify additional locator types:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// locate form element by name</span>
<span class="hljs-built_in">I</span>.seeElement({<span class="hljs-attr">name</span>: <span class="hljs-string">'password'</span>});
<span class="hljs-comment">// locate element by id</span>
<span class="hljs-built_in">I</span>.seeElement({<span class="hljs-attr">id</span>: <span class="hljs-string">'users'</span>});
<span class="hljs-comment">// locate element by React component and props</span>
<span class="hljs-built_in">I</span>.seeElement({<span class="hljs-attr">react</span>: <span class="hljs-string">'user-profile'</span>, <span class="hljs-attr">props</span>: {<span class="hljs-attr">name</span>: <span class="hljs-string">'davert'</span>}});
</code></pre>
<p>In <a href="http://codecept.io/mobile/#locating-elements">mobile testing</a> you can use <code>~</code> to specify the accessibility id to locate an element. In web application you can locate elements by their <code>aria-label</code> value.</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// locate element by [aria-label] attribute in web</span>
<span class="hljs-comment">// or by accessibility id in mobile</span>
<span class="hljs-built_in">I</span>.seeElement(<span class="hljs-string">'~username'</span>);
</code></pre>
<blockquote>
<p><a href="https://codecept.io/locators">▶ Learn more about using locators in CodeceptJS</a>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="clicking"></a><a href="#clicking" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Clicking</h3>
<p>CodeceptJS provides a flexible syntax to specify an element to click.</p>
<p>By default CodeceptJS tries to find the button or link with the exact text on it</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// search for link or button</span>
<span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Login'</span>);
</code></pre>
<p>If none was found, CodeceptJS tries to find a link or button containing that text. In case an image is clickable its <code>alt</code> attribute will be checked for text inclusion. Form buttons will also be searched by name.</p>
<p>To narrow down the results you can specify a context in the second parameter.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Login'</span>, <span class="hljs-string">'.nav'</span>); <span class="hljs-comment">// search only in .nav</span>
<span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Login'</span>, {<span class="hljs-attr">css</span>: <span class="hljs-string">'footer'</span>}); <span class="hljs-comment">// search only in footer</span>
</code></pre>
<blockquote>
<p>To skip guessing the locator type, pass in a strict locator - A locator starting with '#' or '.' is considered to be CSS. Locators starting with '//' or './/' are considered to be XPath.</p>
</blockquote>
<p>You are not limited to buttons and links. Any element can be found by passing in valid CSS or XPath:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// click element by CSS</span>
<span class="hljs-built_in">I</span>.click(<span class="hljs-string">'#signup'</span>);
<span class="hljs-comment">// click element located by special test-id attribute</span>
<span class="hljs-built_in">I</span>.click(<span class="hljs-string">'//dev[@test-id="myid"]'</span>);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="filling-fields"></a><a href="#filling-fields" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Filling Fields</h3>
<p>Clicking the links is not what takes the most time during testing a web site. If your site consists only of links you can skip test automation. The most waste of time goes into the testing of forms. CodeceptJS provides several ways of doing that.</p>
<p>Let's submit this sample form for a test:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/update"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"update_form"</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"user_name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"user[name]"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user_name"</span> /&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"user_email"</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"user[email]"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user_email"</span> /&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"user_gender"</span>&gt;</span>Gender<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user_gender"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"user[gender]"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"m"</span>&gt;</span>Male<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"f"</span>&gt;</span>Female<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"submitButton"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Update"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<p>We need to fill in all those fields and click the &quot;Update&quot; button. CodeceptJS matches form elements by their label, name, or by CSS or XPath locators.</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// we are using label to match user_name field</span>
<span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'Name'</span>, <span class="hljs-string">'Miles'</span>);
<span class="hljs-comment">// we can use input name</span>
<span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'user[email]'</span>,<span class="hljs-string">'miles@davis.com'</span>);
<span class="hljs-comment">// select element by label, choose option by text</span>
<span class="hljs-built_in">I</span>.selectOption(<span class="hljs-string">'Gender'</span>,<span class="hljs-string">'Male'</span>);
<span class="hljs-comment">// click 'Update' button, found by text</span>
<span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Update'</span>);
</code></pre>
<p>Alternative scenario:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// we are using CSS</span>
<span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'#user_name'</span>, <span class="hljs-string">'Miles'</span>);
<span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'#user_email'</span>,<span class="hljs-string">'miles@davis.com'</span>);
<span class="hljs-comment">// select element by label, option by value</span>
<span class="hljs-built_in">I</span>.selectOption(<span class="hljs-string">'#user_gender'</span>,<span class="hljs-string">'m'</span>);
<span class="hljs-comment">// click 'Update' button, found by name</span>
<span class="hljs-built_in">I</span>.click(<span class="hljs-string">'submitButton'</span>, <span class="hljs-string">'#update_form'</span>);
</code></pre>
<p>To fill in sensitive data use the <code>secret</code> function:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'password'</span>, secret(<span class="hljs-string">'123456'</span>));
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="assertions"></a><a href="#assertions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Assertions</h3>
<p>In order to verify the expected behavior of a web application, it's content should be checked.
CodeceptJS provides built-in assertions for that. They start with a <code>see</code> (or <code>dontSee</code>) prefix.</p>
<p>The most general and common assertion is <code>see</code>, which checks visilibility of a text on a page:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// Just a visible text on a page</span>
<span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Hello'</span>);
<span class="hljs-comment">// text inside .msg element</span>
<span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Hello'</span>, <span class="hljs-string">'.msg'</span>);
<span class="hljs-comment">// opposite</span>
<span class="hljs-built_in">I</span>.dontSee(<span class="hljs-string">'Bye'</span>);
</code></pre>
<p>You should provide a text as first argument and, optionally, a locator to search for a text in a context.</p>
<p>You can check that specific element exists (or not) on a page, as it was described in <a href="#locating-element">Locating Element</a> section.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.seeElement(<span class="hljs-string">'.notice'</span>);
<span class="hljs-built_in">I</span>.dontSeeElement(<span class="hljs-string">'.error'</span>);
</code></pre>
<p>Additional assertions:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.seeInCurrentUrl(<span class="hljs-string">'/user/miles'</span>);
<span class="hljs-built_in">I</span>.seeInField(<span class="hljs-string">'user[name]'</span>, <span class="hljs-string">'Miles'</span>);
<span class="hljs-built_in">I</span>.seeInTitle(<span class="hljs-string">'My Website'</span>);
</code></pre>
<p>To see all possible assertions, check the helper's reference.</p>
<h3><a class="anchor" aria-hidden="true" id="grabbing"></a><a href="#grabbing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Grabbing</h3>
<p>Sometimes you need to retrieve data from a page to use it in the following steps of a scenario.
Imagine the application generates a password, and you want to ensure that user can login using this password.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'login with generated password'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'email'</span>, <span class="hljs-string">'miles@davis.com'</span>);
  <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Generate Password'</span>);
  <span class="hljs-keyword">const</span> password = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTextFrom(<span class="hljs-string">'#password'</span>);
  <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Login'</span>);
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'email'</span>, <span class="hljs-string">'miles@davis.com'</span>);
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'password'</span>, password);
  <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Log in!'</span>);
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Hello, Miles'</span>);
});
</code></pre>
<p>The <code>grabTextFrom</code> action is used to retrieve the text from an element. All actions starting with the <code>grab</code> prefix are expected to return data. In order to synchronize this step with a scenario you should pause the test execution with the <code>await</code> keyword of ES6. To make it work, your test should be written inside a async function (notice <code>async</code> in its definition).</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'use page title'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-keyword">const</span> password = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTextFrom(<span class="hljs-string">'#password'</span>);
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'password'</span>, password);
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="waiting"></a><a href="#waiting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Waiting</h3>
<p>In modern web applications, rendering is done on the client-side.
Sometimes that may cause delays. A test may fail while trying to click an element which has not appeared on a page yet.
To handle these cases, the <code>wait*</code> methods has been introduced.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.waitForElement(<span class="hljs-string">'#agree_button'</span>, <span class="hljs-number">30</span>); <span class="hljs-comment">// secs</span>
<span class="hljs-comment">// clicks a button only when it is visible</span>
<span class="hljs-built_in">I</span>.click(<span class="hljs-string">'#agree_button'</span>);
</code></pre>
<blockquote>
<p>ℹ See <a href="https://codecept.io/reference">helpers reference</a> for a complete list of all available commands for the helper you use.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="how-it-works"></a><a href="#how-it-works" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How It Works</h2>
<p>Tests are written in a synchronous way. This improves the readability and maintainability of tests.
While writing tests you should not think about promises, and instead should focus on the test scenario.</p>
<p>However, behind the scenes <strong>all actions are wrapped in promises</strong>, inside of the <code>I</code> object.
<a href="https://github.com/Codeception/CodeceptJS/blob/master/lib/recorder.js">Global promise</a> chain is initialized before each test and all <code>I.*</code> calls will be appended to it, as well as setup and teardown.</p>
<blockquote>
<p>📺 <a href="https://www.youtube.com/watch?v=onBnfo_rJa4">Learn how CodeceptJS</a> works with promises by watching video on YouTube</p>
</blockquote>
<p>If you want to get information from a running test you can use <code>await</code> inside the <strong>async function</strong>, and utilize special methods of helpers started with the <code>grab</code> prefix.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'try grabbers'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-keyword">let</span> title = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTitle();
});
</code></pre>
<p>then you can use those variables in assertions:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">var</span> title = <span class="hljs-keyword">await</span> <span class="hljs-built_in">I</span>.grabTitle();
<span class="hljs-keyword">var</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">'assert'</span>);
assert.equal(title, <span class="hljs-string">'CodeceptJS'</span>);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="running-tests"></a><a href="#running-tests" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running Tests</h2>
<p>To launch tests use the <code>run</code> command, and to execute tests in <a href="https://codecept.io/advanced/#multiple-browsers-execution">multiple browsers</a> or <a href="https://codecept.io/advanced/#parallel-execution">multiple threads</a> use the <code>run-multiple</code> command.</p>
<h3><a class="anchor" aria-hidden="true" id="level-of-detail"></a><a href="#level-of-detail" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Level of Detail</h3>
<p>To see the step-by-step output of running tests, add the <code>--steps</code> flag:</p>
<pre><code class="hljs">npx codeceptjs run --steps
</code></pre>
<p>To see a more detailed output add the <code>--debug</code> flag:</p>
<pre><code class="hljs">npx codeceptjs run --debug
</code></pre>
<p>To see very detailed output informations use the <code>--verbose</code> flag:</p>
<pre><code class="hljs">npx codeceptjs run --verbose
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="filter"></a><a href="#filter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Filter</h3>
<p>A single test file can be executed if you provide a relative path to such a file:</p>
<pre><code class="hljs">npx codeceptjs run github_test.js

# or

npx codeceptjs run admin/login_test.js
</code></pre>
<p>To filter a test by name use the <code>--grep</code> parameter, which will execute all tests with names matching the regex pattern.</p>
<p>To run all tests with the <code>slow</code> word in it:</p>
<pre><code class="hljs">npx codeceptjs run --grep <span class="hljs-string">"slow"</span>
</code></pre>
<p>It is recommended to <a href="https://codecept.io/advanced/#tags">filter tests by tags</a>.</p>
<blockquote>
<p>For more options see <a href="https://codecept.io/commands/#run">full reference of <code>run</code> command</a>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="parallel-run"></a><a href="#parallel-run" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Parallel Run</h3>
<p>Since CodeceptJS 2.3, you can run tests in parallel by using NodeJS workers. This feature requires NodeJS &gt;= 11.6. Use <code>run-workers</code> command with the number of workers (threads) to split tests.</p>
<pre><code class="hljs">npx codeceptjs run-workers <span class="hljs-number">3</span>
</code></pre>
<p>Tests are split by scenarios, not by files. Results are aggregated and shown up in the main process.</p>
<h2><a class="anchor" aria-hidden="true" id="configuration"></a><a href="#configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration</h2>
<p>Configuration is set in the <code>codecept.conf.js</code> file which was created during the <code>init</code> process.
Inside the config file you can enable and configure helpers and plugins, and set bootstrap and teardown scripts.</p>
<pre><code class="hljs css language-js">exports.config = {
  <span class="hljs-attr">helpers</span>: {
    <span class="hljs-comment">// enabled helpers with their configs</span>
  },
  <span class="hljs-attr">plugins</span>: {
    <span class="hljs-comment">// list of used plugins</span>
  },
  <span class="hljs-attr">include</span>: {
    <span class="hljs-comment">// current actor and page objects</span>
  }
}
</code></pre>
<blockquote>
<p>▶ See complete <a href="https://codecept.io/configuration">configuration reference</a>.</p>
</blockquote>
<p>You can have multiple configuration files for a the same project, in this case you can specify a config file to be used with <code>-c</code> when running.</p>
<pre><code class="hljs">npx codeceptjs run -c codecept.ci.conf.js
</code></pre>
<p>Tuning configuration for helpers like WebDriver, Puppeteer can be hard, as it requires good understanding of how these technologies work. Use the <a href="https://github.com/codecept-js/configure"><code>@codeceptjs/configure</code></a> package with common configuration recipes.</p>
<p>For instance, you can set the window size or toggle headless mode, no matter of which helpers are actually used.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { setHeadlessWhen, setWindowSize } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@codeceptjs/configure'</span>);

<span class="hljs-comment">// run headless when CI environment variable set</span>
setHeadlessWhen(process.env.CI);
<span class="hljs-comment">// set window size for any helper: Puppeteer, WebDriver, TestCafe</span>
setWindowSize(<span class="hljs-number">1600</span>, <span class="hljs-number">1200</span>);

exports.config = {
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<blockquote>
<p>▶ See more <a href="https://github.com/codecept-js/configure">configuration recipes</a></p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="debug"></a><a href="#debug" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Debug</h2>
<p>CodeceptJS allows to write and debug tests on the fly while keeping your browser opened.
By using the interactive shell you can stop execution at any point and type in any CodeceptJS commands.</p>
<p>This is especially useful while writing a new scratch. After opening a page call <code>pause()</code> to start interacting with a page:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
<span class="hljs-built_in">pause</span>();
</code></pre>
<p>Try to perform your scenario step by step. Then copy succesful commands and insert them into a test.</p>
<h3><a class="anchor" aria-hidden="true" id="pause"></a><a href="#pause" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pause</h3>
<p>Test execution can be paused in any place of a test with <code>pause()</code> call.</p>
<p>This launches the interactive console where you can call any action from the <code>I</code> object.</p>
<pre><code class="hljs"> Interactive shell started
 Press ENTER to resume test
 - Use JavaScript syntax to <span class="hljs-keyword">try</span> steps <span class="hljs-keyword">in</span> action
 - Press TAB twice to see all available commands
 - Enter next to run the next step
 <span class="hljs-built_in">I</span>.click

</code></pre>
<p>Type in different actions to try them, copy and paste successful ones into the test file.</p>
<p>Press <code>ENTER</code> to resume test execution.</p>
<p>To <strong>debug test step-by-step</strong> press Enter, the next step will be executed and interactive shell will be shown again.</p>
<p>To see all available commands, press TAB two times to see list of all actions included in the <code>I</code> object.</p>
<p>If a test is failing you can prevent the browser from closing by putting the <code>pause()</code> command into an <code>After()</code> hook. This is very helpful to debug failing tests. This way you can keep the same session and try different actions on a page to get an idea about what went wrong.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">After</span>(<span class="hljs-built_in">pause</span>);
</code></pre>
<p>The interactive shell can be started outside of test context by running</p>
<pre><code class="hljs css language-bash">codeceptjs shell
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="screenshot-on-failure"></a><a href="#screenshot-on-failure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Screenshot on failure</h3>
<p>By default CodeceptJS saves a screenshot of a failed test.
This can be configured in <a href="https://codecept.io/plugins/#screenshotonfail">screenshotOnFail Plugin</a></p>
<h3><a class="anchor" aria-hidden="true" id="step-by-step-report"></a><a href="#step-by-step-report" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step By Step Report</h3>
<p>To see how the test was executed, use <a href="https://codecept.io/plugins/#stepbystepreport">stepByStepReport Plugin</a>. It saves a screenshot of each passed step and shows them in a nice slideshow.</p>
<h2><a class="anchor" aria-hidden="true" id="retries"></a><a href="#retries" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retries</h2>
<h3><a class="anchor" aria-hidden="true" id="retry-step"></a><a href="#retry-step" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retry Step</h3>
<p>If you have a step which often fails, you can retry execution for this single step.
Use the <code>retry()</code> function before an action to ask CodeceptJS to retry it on failure:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.retry().see(<span class="hljs-string">'Welcome'</span>);
</code></pre>
<p>If you'd like to retry a step more than once, pass the amount as a parameter:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.retry(<span class="hljs-number">3</span>).see(<span class="hljs-string">'Welcome'</span>);
</code></pre>
<p>Additional options can be provided to <code>retry</code>, so you can set the additional options (defined in <a href="https://www.npmjs.com/package/promise-retry">promise-retry</a> library).</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// retry action 3 times waiting for 0.1 second before next try</span>
<span class="hljs-built_in">I</span>.retry({ <span class="hljs-attr">retries</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">minTimeout</span>: <span class="hljs-number">100</span> }).see(<span class="hljs-string">'Hello'</span>);

<span class="hljs-comment">// retry action 3 times waiting no more than 3 seconds for last retry</span>
<span class="hljs-built_in">I</span>.retry({ <span class="hljs-attr">retries</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">maxTimeout</span>: <span class="hljs-number">3000</span> }).see(<span class="hljs-string">'Hello'</span>);

<span class="hljs-comment">// retry 2 times if error with message 'Node not visible' happens</span>
<span class="hljs-built_in">I</span>.retry({
  <span class="hljs-attr">retries</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">when</span>: <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> err.message === <span class="hljs-string">'Node not visible'</span>
}).seeElement(<span class="hljs-string">'#user'</span>);
</code></pre>
<p>Pass a function to the <code>when</code> option to retry only when an error matches the expected one.</p>
<h3><a class="anchor" aria-hidden="true" id="auto-retry"></a><a href="#auto-retry" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Auto Retry</h3>
<p>You can auto-retry a failed step by enabling <a href="https://codecept.io/plugins/#retryfailedstep">retryFailedStep Plugin</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="retry-scenario"></a><a href="#retry-scenario" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retry Scenario</h3>
<p>When you need to rerun scenarios a few times, add the <code>retries</code> option to the <code>Scenario</code> declaration.</p>
<p>CodeceptJS implements retries the same way <a href="https://mochajs.org#retry-tests">Mocha does</a>;
You can set the number of a retries for a feature:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'Really complex'</span>, (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-comment">// test goes here</span>
}).retry(<span class="hljs-number">2</span>);

<span class="hljs-comment">// alternative</span>
<span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'Really complex'</span>, { <span class="hljs-attr">retries</span>: <span class="hljs-number">2</span> }, (<span class="hljs-built_in">I</span>) =&gt; {});
</code></pre>
<p>This scenario will be restarted two times on a failure.
Unlike retry step, there is no <code>when</code> condition supported for retries on a scenario level.</p>
<h3><a class="anchor" aria-hidden="true" id="retry-feature"></a><a href="#retry-feature" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retry Feature</h3>
<p>To set this option for all scenarios in a file, add <code>retry</code> to a feature:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Feature</span>(<span class="hljs-string">'Complex JS Stuff'</span>).retry(<span class="hljs-number">3</span>);
</code></pre>
<p>Every Scenario inside this feature will be rerun 3 times.
You can make an exception for a specific scenario by passing the <code>retries</code> option to a Scenario.</p>
<h2><a class="anchor" aria-hidden="true" id="before"></a><a href="#before" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Before</h2>
<p>Common preparation steps like opening a web page or logging in a user, can be placed in the <code>Before</code> or <code>Background</code> hooks:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Feature</span>(<span class="hljs-string">'CodeceptJS Demonstration'</span>);

<span class="hljs-keyword">Before</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> { <span class="hljs-comment">// or Background</span>
  <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/documentation'</span>);
});

<span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'test some forms'</span>, (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Create User'</span>);
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'User is valid'</span>);
  <span class="hljs-built_in">I</span>.dontSeeInCurrentUrl(<span class="hljs-string">'/documentation'</span>);
});

<span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'test title'</span>, (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-built_in">I</span>.seeInTitle(<span class="hljs-string">'Example application'</span>);
});
</code></pre>
<p>Same as <code>Before</code> you can use <code>After</code> to run teardown for each scenario.</p>
<h2><a class="anchor" aria-hidden="true" id="beforesuite"></a><a href="#beforesuite" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BeforeSuite</h2>
<p>If you need to run complex a setup before all tests and have to teardown this afterwards, you can use the <code>BeforeSuite</code> and <code>AfterSuite</code> functions.
<code>BeforeSuite</code> and <code>AfterSuite</code> have access to the <code>I</code> object, but <code>BeforeSuite/AfterSuite</code> don't have any access to the browser, because it's not running at this moment.
You can use them to execute handlers that will setup your environment. <code>BeforeSuite/AfterSuite</code> will work only for the file it was declared in (so you can declare different setups for files)</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">BeforeSuite</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
  <span class="hljs-built_in">I</span>.syncDown(<span class="hljs-string">'testfolder'</span>);
});

<span class="hljs-keyword">AfterSuite</span>(<span class="hljs-function">(<span class="hljs-params"><span class="hljs-built_in">I</span></span>) =&gt;</span> {
  <span class="hljs-built_in">I</span>.syncUp(<span class="hljs-string">'testfolder'</span>);
  <span class="hljs-built_in">I</span>.clearDir(<span class="hljs-string">'testfolder'</span>);
});
</code></pre>
<p><a href="https://github.com/Codeception/CodeceptJS/pull/231#issuecomment-249554933">Here are some ideas</a> on where to use BeforeSuite hooks.</p>
<h2><a class="anchor" aria-hidden="true" id="within"></a><a href="#within" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Within</h2>
<p>To specify the exact area on a page where actions can be performed you can use the <code>within</code> function.
Everything executed in its context will be narrowed to context specified by locator:</p>
<p>Usage: <code>within('section', ()=&gt;{})</code></p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'https://github.com'</span>);
<span class="hljs-built_in">within</span>(<span class="hljs-string">'.js-signup-form'</span>, () =&gt; {
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'user[login]'</span>, <span class="hljs-string">'User'</span>);
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'user[email]'</span>, <span class="hljs-string">'user@user.com'</span>);
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'user[password]'</span>, <span class="hljs-string">'user@user.com'</span>);
  <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'button'</span>);
});
<span class="hljs-built_in">I</span>.see(<span class="hljs-string">'There were problems creating your account.'</span>);
</code></pre>
<p><code>within</code> can also work with IFrames. A special <code>frame</code> locator is required to locate the iframe and get into its context.</p>
<p>See example:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">within</span>({<span class="hljs-attr">frame</span>: <span class="hljs-string">"#editor"</span>}, () =&gt; {
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Page'</span>);
});
</code></pre>
<p>Nested IFrames can be set by passing an array <em>(WebDriver, Nightmare &amp; Puppeteer only)</em>:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">within</span>({<span class="hljs-attr">frame</span>: [<span class="hljs-string">".content"</span>, <span class="hljs-string">"#editor"</span>]}, () =&gt; {
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Page'</span>);
});
</code></pre>
<p>When running steps inside, a within block will be shown with a shift:</p>
<p><img src="https://codecept.io/img/within.png" alt="within"></p>
<p>Within can return a value, which can be used in a scenario:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// inside async function</span>
<span class="hljs-keyword">const</span> val = <span class="hljs-keyword">await</span> <span class="hljs-built_in">within</span>(<span class="hljs-string">'#sidebar'</span>, () =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">I</span>.grabTextFrom({ <span class="hljs-attr">css</span>: <span class="hljs-string">'h1'</span> });
});
<span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'Description'</span>, val);
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="comments"></a><a href="#comments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comments</h2>
<p>There is a simple way to add additional comments to your test scenario:
Use the <code>say</code> command to print information to screen:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.say(<span class="hljs-string">'I am going to publish post'</span>);
<span class="hljs-built_in">I</span>.say(<span class="hljs-string">'I enter title and body'</span>);
<span class="hljs-built_in">I</span>.say(<span class="hljs-string">'I expect post is visible on site'</span>);
</code></pre>
<p>Use the second parameter to pass in a color value (ASCII).</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">I</span>.say(<span class="hljs-string">'This is red'</span>, <span class="hljs-string">'red'</span>); <span class="hljs-comment">//red is used</span>
<span class="hljs-built_in">I</span>.say(<span class="hljs-string">'This is blue'</span>, <span class="hljs-string">'blue'</span>); <span class="hljs-comment">//blue is used</span>
<span class="hljs-built_in">I</span>.say(<span class="hljs-string">'This is by default'</span>); <span class="hljs-comment">//cyan is used</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="intellisense"></a><a href="#intellisense" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>IntelliSense</h2>
<p><img src="/img/edit.gif" alt=""></p>
<p>To get autocompletion when working with CodeceptJS, use Visual Studio Code or another IDE that supports TypeScript Definitions.</p>
<p>Generate step definitions with:</p>
<pre><code class="hljs css language-sh">npx codeceptjs def
</code></pre>
<p>Create a file called <code>jsconfig.json</code> in your project root directory, unless you already have one.</p>
<pre><code class="hljs css language-jsconfig.json">{
  <span class="hljs-attr">"compilerOptions"</span>: {
    <span class="hljs-attr">"allowJs"</span>: <span class="hljs-literal">true</span>,
  }
}
</code></pre>
<p>Alternatively, you can include <code>/// &lt;reference path=&quot;./steps.d.ts&quot; /&gt;</code> into your test files
to get method autocompletion while writing tests.</p>
<h2><a class="anchor" aria-hidden="true" id="multiple-sessions"></a><a href="#multiple-sessions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multiple Sessions</h2>
<p>CodeceptJS allows to run several browser sessions inside a test. This can be useful for testing communication between users inside a chat or other systems. To open another browser use the <code>session()</code> function as shown in the example:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'test app'</span>, (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/chat'</span>);
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'name'</span>, <span class="hljs-string">'davert'</span>);
  <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Sign In'</span>);
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Hello, davert'</span>);
  <span class="hljs-built_in">session</span>(<span class="hljs-string">'john'</span>, () =&gt; {
    <span class="hljs-comment">// another session started</span>
    <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/chat'</span>);
    <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'name'</span>, <span class="hljs-string">'john'</span>);
    <span class="hljs-built_in">I</span>.click(<span class="hljs-string">'Sign In'</span>);
    <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'Hello, john'</span>);
  });
  <span class="hljs-comment">// switching back to default session</span>
  <span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'message'</span>, <span class="hljs-string">'Hi, john'</span>);
  <span class="hljs-comment">// there is a message from current user</span>
  <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'me: Hi, john'</span>, <span class="hljs-string">'.messages'</span>);
  <span class="hljs-built_in">session</span>(<span class="hljs-string">'john'</span>, () =&gt; {
    <span class="hljs-comment">// let's check if john received it</span>
    <span class="hljs-built_in">I</span>.see(<span class="hljs-string">'davert: Hi, john'</span>, <span class="hljs-string">'.messages'</span>);
  });
});
</code></pre>
<p>The <code>session</code> function expects the first parameter to be the name of the session. You can switch back to this session by using the same name.</p>
<p>You can override the configuration for the session by passing a second parameter:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">session</span>(<span class="hljs-string">'john'</span>, { <span class="hljs-attr">browser</span>: <span class="hljs-string">'firefox'</span> } , () =&gt; {
  <span class="hljs-comment">// run this steps in firefox</span>
  <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);
});
</code></pre>
<p>or just start the session without switching to it. Call <code>session</code> passing only its name:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">Scenario</span>(<span class="hljs-string">'test'</span>, (<span class="hljs-built_in">I</span>) =&gt; {
  <span class="hljs-comment">// opens 3 additional browsers</span>
  <span class="hljs-built_in">session</span>(<span class="hljs-string">'john'</span>);
  <span class="hljs-built_in">session</span>(<span class="hljs-string">'mary'</span>);
  <span class="hljs-built_in">session</span>(<span class="hljs-string">'jane'</span>);

  <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/'</span>);

  <span class="hljs-comment">// switch to session by its name</span>
  <span class="hljs-built_in">session</span>(<span class="hljs-string">'mary'</span>, () =&gt; {
    <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/login'</span>);
  });
}
</code></pre>
<p><code>session</code> can return a value which can be used in a scenario:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// inside async function</span>
<span class="hljs-keyword">const</span> val = <span class="hljs-keyword">await</span> <span class="hljs-built_in">session</span>(<span class="hljs-string">'john'</span>, () =&gt; {
  <span class="hljs-built_in">I</span>.amOnPage(<span class="hljs-string">'/info'</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">I</span>.grabTextFrom({ <span class="hljs-attr">css</span>: <span class="hljs-string">'h1'</span> });
});
<span class="hljs-built_in">I</span>.fillField(<span class="hljs-string">'Description'</span>, val);
</code></pre>
<p>Functions passed into a session can use the <code>I</code> object, page objects, and any other objects declared for the scenario.
This function can also be declared as async (but doesn't work as generator).</p>
<p>Also, you can use <code>within</code> inside a session, but you can't call session from inside <code>within</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="skipping"></a><a href="#skipping" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Skipping</h2>
<p>Like in Mocha you can use <code>x</code> and <code>only</code> to skip tests or to run a single test.</p>
<ul>
<li><code>xScenario</code> - skips current test</li>
<li><code>Scenario.only</code> - executes only the current test</li>
</ul>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 12/6/2019</em></div><div class="docs-prevnext"><a class="docs-next button" href="/webdriver"><span class="function-name-prevnext">Testing with WebDriver</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#architecture">Architecture</a></li><li><a href="#writing-tests">Writing Tests</a><ul class="toc-headings"><li><a href="#opening-a-page">Opening a Page</a></li><li><a href="#locating-element">Locating Element</a></li><li><a href="#clicking">Clicking</a></li><li><a href="#filling-fields">Filling Fields</a></li><li><a href="#assertions">Assertions</a></li><li><a href="#grabbing">Grabbing</a></li><li><a href="#waiting">Waiting</a></li></ul></li><li><a href="#how-it-works">How It Works</a></li><li><a href="#running-tests">Running Tests</a><ul class="toc-headings"><li><a href="#level-of-detail">Level of Detail</a></li><li><a href="#filter">Filter</a></li><li><a href="#parallel-run">Parallel Run</a></li></ul></li><li><a href="#configuration">Configuration</a></li><li><a href="#debug">Debug</a><ul class="toc-headings"><li><a href="#pause">Pause</a></li><li><a href="#screenshot-on-failure">Screenshot on failure</a></li><li><a href="#step-by-step-report">Step By Step Report</a></li></ul></li><li><a href="#retries">Retries</a><ul class="toc-headings"><li><a href="#retry-step">Retry Step</a></li><li><a href="#auto-retry">Auto Retry</a></li><li><a href="#retry-scenario">Retry Scenario</a></li><li><a href="#retry-feature">Retry Feature</a></li></ul></li><li><a href="#before">Before</a></li><li><a href="#beforesuite">BeforeSuite</a></li><li><a href="#within">Within</a></li><li><a href="#comments">Comments</a></li><li><a href="#intellisense">IntelliSense</a></li><li><a href="#multiple-sessions">Multiple Sessions</a></li><li><a href="#skipping">Skipping</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="CodeceptJS" width="66" height="58"/></a><div><h5>Docs</h5><a href="/quickstart">QuickStart</a><a href="/basics">Guides</a><a href="/reference">Reference</a></div><div><h5>Community</h5><a href="https://join.slack.com/t/codeceptjs/shared_invite/enQtMzA5OTM4NDM2MzA4LWE4MThhN2NmYTgxNTU5MTc4YzAyYWMwY2JkMmZlYWI5MWQ2MDM5MmRmYzZmYmNiNmY5NTAzM2EwMGIwOTNhOGQ">Slack Chat</a><a href="https://codecept.discourse.group" target="_blank" rel="noreferrer noopener">Community Forum</a><a href="http://stackoverflow.com/questions/tagged/codeceptjs" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://twitter.com/codeceptjs" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/Codeception/CodeceptJS">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/codeception/codeceptjs/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&amp;utm_medium=footer&amp;utm_term=link&amp;utm_campaign=reference">Commercial Support</a><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&amp;utm_medium=top_menu&amp;utm_term=link&amp;utm_campaign=reference">Trainings</a></div></section><section class="copyright">Copyright © 2019 CodeceptJS</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '0cc13a0af567a05fc38790be681b1491',
                indexName: 'codecept',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>